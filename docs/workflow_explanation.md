# Performance Review Tracking System Workflow and File Usage

This document outlines the workflow of the Performance Review Tracking System and describes the purpose of each file involved in the process.

## Workflow Steps

The performance review generation process consists of the following steps:

1.  **Data Input:** The process starts with the `data/accomplishments.csv` file, which contains a record of work accomplishments in CSV format. This file is the primary source of data for generating performance reviews.

2.  **Data Processing:** The `src/main.py` script is executed to process the `data/accomplishments.csv` file. This script performs the following actions:
    *   **Loads Data:** Reads the data from `data/accomplishments.csv` using the `load_data` function.
    *   **Validates Data:** Validates the data structure and content using the `validate_data` function.
    *   **Prepares Data for Analysis:**  Prepares the data for Roo Code analysis, including filtering data for the annual review period if the review type is 'annual', using the `prepare_data_for_analysis` function.
    *   **Saves Processed Data:** Saves the processed data in JSON format to `data/processed_annual.json`. This file is used as input for Roo Code analysis.

3.  **Roo Code Analysis:** The `src/main.py` script then invokes Roo Code in "Performance Analyst" mode using the VS Code CLI.
    *   **Executes Roo Code:** The `run_roo_code_analysis` function executes the VS Code CLI command, passing the path to `data/processed_annual.json` and a prompt for analysis.
    *   **Generates Analysis:** Roo Code analyzes the data in `data/processed_annual.json` based on the prompt and the system prompt configured for the "Performance Analyst" mode.
    *   **Saves Analysis Output:** Roo Code's analysis output (in markdown format) is saved to `data/analyzed_annual.md`.

4.  **Report Generation:** Finally, the `src/main.py` script generates the final performance review report.
    *   **Loads Analysis:** The `generate_final_report` function loads the Roo Code analysis from `data/analyzed_annual.md` using the `load_analysis` function.
    *   **Loads Template:** Loads the annual review template from `templates/annual_review_template.md` using the `load_template` function.
    *   **Formats Report:** Combines the Roo Code analysis with the template to generate the final report content.
    *   **Saves Report:** Saves the final report in markdown format to `output/annual_review_YYYYMMDD_HHMMSS.md`.

## File Usage

Here is a description of each file's role in the workflow:

*   **`data/accomplishments.csv`**:
    *   **Type:** CSV (Comma Separated Values) data file.
    *   **Purpose:** Input file containing raw work accomplishment data. Each row represents a work accomplishment with columns for Date, Title, Description, Acceptance Criteria, Success Notes, and Impact.
    *   **Usage:** Manually created and updated by the user to track their accomplishments. Read by `src/main.py` for data processing.

*   **`src/main.py`**:
    *   **Type:** Python script.
    *   **Purpose:** Main script that orchestrates the entire performance review generation workflow. It handles data loading, processing, running Roo Code analysis, and generating the final report.
    *   **Usage:** Executed from the command line to initiate the performance review generation process.

*   **`data/processed_annual.json`**:
    *   **Type:** JSON (JavaScript Object Notation) data file.
    *   **Purpose:** Intermediate file that stores the processed work accomplishment data in JSON format. This file is generated by `src/main.py` and serves as input for Roo Code analysis.
    *   **Usage:** Automatically generated by `src/main.py` during data processing. Read by Roo Code for analysis.

*   **`data/analyzed_annual.md`**:
    *   **Type:** Markdown file.
    *   **Purpose:** Intermediate file that stores the analysis output generated by Roo Code. Roo Code analyzes `data/processed_annual.json` and saves its findings in this file.
    *   **Usage:** Automatically generated by Roo Code during the analysis step. Read by `src/main.py` to generate the final report.

*   **`templates/annual_review_template.md`**:
    *   **Type:** Markdown template file.
    *   **Purpose:** Contains the template structure for the annual performance review report, including sections for each review criterion (Communication, Flexibility, etc.).
    *   **Usage:** Read by `src/main.py` to format the final report. Placeholders in this template are populated with the Roo Code analysis.

*   **`output/annual_review_YYYYMMDD_HHMMSS.md`**:
    *   **Type:** Markdown report file.
    *   **Purpose:** Final output file containing the generated annual performance review report in markdown format.
    *   **Usage:** Automatically generated by `src/main.py`. This is the final performance review document that can be reviewed and used for performance evaluations.

*   **`scripts/process-data.sh`**:
    *   **Type:** Shell script.
    *   **Purpose:**  While present in the repository, this script is not directly used in the current workflow. Its intended purpose was likely to handle data processing, but the functionality is now integrated within `src/main.py`.
    *   **Usage:**  Currently not used in the automated workflow.

*   **`scripts/generate-report.sh`**:
    *   **Type:** Shell script.
    *   **Purpose:**  Similar to `process-data.sh`, this script is not directly used in the current workflow. Its intended purpose was to handle report generation, but this functionality is now integrated within `src/main.py`.
    *   **Usage:** Currently not used in the automated workflow.

This document should provide a clear understanding of the workflow and the role of each file in the Performance Review Tracking System.